## 解説

### 表示されるキューブを動かしてみよう!

### 重力を作ってみよう!

### ジャンプできるようにしてみよう!

### チャットウィンドウを開けるようにしてみよう!

### キューブの色を変更できるようにしてみよう!

### 他のプレイヤーを表示してみよう!

他のプレイヤーを表示するためには

```
{
    Array.isArray(data) && data
    .filter((item) => item.id !== userId)
    .map((item, index) => <OtherPlayer key={index} data={item} />)
}
```

こちらのコードが他のユーザーを表示するための大元になります。

data がデータの集合体(配列であると確認したのちに、.filter で自分のデータを取り除いています)

さらに.map で残ったデータの一つ一つの処理を行なっており、  
item にはヒントにある通り、他のユーザーのキューブ情報の集合体である data を一つ一つ item を利用して処理を記述しています

```
<OtherPlayer key={index} data={item} />
```

となっており、他のユーザー(一人)を表示するシステムに、data(一人のキューブ情報)として item(一人のキューブ情報)を渡すことで表示する処理を data(ユーザー全員のキューブ情報)全体に処理がかかるため、受け取ったデータ全員分の表示が可能となっている。

### 他のプレイヤーに自分のデータを送信して意思疎通しよう!

他のユーザーにデータを送信するには以下のように Player.tsx の data の中身の構成を変える必要があります。

```ts
//他のユーザーに送るデータ
const data: SendData = {
  id: id, //自分の自身を識別するためのデータ
  position: {
    //自分の位置のデータ
    x: x,
    y: y,
    z: z,
  },
  rotation: {
    //自分がどちらを向いているかのデータ
    x: rx,
    y: ry,
    z: rz,
    w: w,
  },
  color: color, //自分の色のデータ
  chat: text, //自分今しゃべっている言葉のデータ
};

sendData(data); //データ送信
```

まずこちらのデータ送信の定義を読み解くには json について理解する必要があります。

```
hoge : huga
```

のような記述があった場合、
hoge はキー属性といい、データにつける名前のような立ち位置です。いわばラベルのような物です。
huga はデータ属性といい、先ほどのラベルをつけるデータを指します。

今回は posision の中身の x、y、z、rotation の中身の x, y, z, w の 7 個のキー属性に正しいデータ属性を割り振る必要があります。
position はその名の通り、位置のデータを示しています。

今回は x、y、z に位置の値が格納されており、
rx、ry、rz、w には向きの値が格納されています。

よってそれらの格納をデータ属性に適切に割り振ることによって、データを送信できます。
